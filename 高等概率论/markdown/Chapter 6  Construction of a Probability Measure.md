# Chapter 6  Construction of a Probability Measure



概率测度的构造 adveprobab 2

对于 $\mathcal{B}$ 是 $\{\omega\}_{\omega \in \Omega}$ ，即 $\mathcal{B}$ 是单点集组成的事件类

如果概率 $P$ 建立在 $\mathcal{B}$ 上，这样构造的概率比较好计算，现在的想法是：想通过有限集合或者可数集合，来进行拓展，将概率测度扩展开

即将 $P$ 扩展到 $\mathcal{A}=2^{\Omega}$ 

核心：

$$
finite \qquad \Rightarrow \qquad uncountable
$$

</div>

--------------------------

<br />
<br />

+ Assume given $\Omega$ (countable or uncountable) and a $\sigma$-algebra $\mathcal{A} \in 2^{\Omega}$ 
+ $(\Omega,\mathcal{A})$ is called a measurable space. 构造$P$
+ Want to construct probability measure on $\mathcal{A}$ 

  + When $\Omega$ is finite or countable, we have already seen this is simple to do.
  + When $\Omega$ is uncountable, the same technique does not work. 失效

    + Indeed, a "typical" probability $P$ will have $P(\{\omega\})=0$ for all $\omega$, and thus the family of all numbers $P(\{\omega\})$ for $\omega \in \Omega$ does not characterize probability $P$ in general.

    + 怎么理解上一点？对于不可数集合。。。

<br />
<br />

+ In many "concrete" situations --- that it is often relatively simple to construct a "probability" on an algebra which generates the $\sigma$-algebra $\mathcal{A}$ , and the problem at hand is then to extend this probability to the $\sigma$-algebra itself.

  在由 $\mathcal{A}$ 生成的 sigma 代数里面构建一个代数上的概率是相对比较容易的，现在要将其拓展到 sigma 代数里面

<br />

+ Suppose: 在一个代数上建立概率 $P$


  + $\mathcal{A}_0$ is an algebra and, $\mathcal{A}=\sigma(\mathcal{A}_0)$.
  + Given a probability $P$ on the algebra $\mathcal{A}_0$ : that is, a set function $P: \mathcal{A}_0 \to [0,1]$ satisfying

    + $P(\Omega)=1$ 
    + (Countable Additivity) for any sequence $\{A_n\}_{n\ge 1} \subset \mathcal{A}_0$, pairwise disjoint, and such that  $\cup_{n\ge 1}A_n \in \mathcal{A}_0$, we have

$$
P \left( \cup_{n\ge 1} A_n \right) = \sum_{n=1}^{\infty} P(A_n)
$$

<br />
<br />

It might seem natural to use for $\mathcal{A}$, the set of all subsets of $\Omega$, as we did in the case where $\Omega$ was countable.

<br />


We do not do so for the following reason, illustrated by an example: 不可数的不满足

- Suppose $\Omega=[0,1]$, and define a set function $P$ on intervals of the form $P((a,b])=b-a$, where $0\le a\le b \le 1$ 

- It is a natural "probability measure" that assigns the usual length of an interval as its probability. 

  概率表示为长度

- Suppose we want to extend $P$ in a unique way to $2^{\Omega}=2^{[0,1]}=$ all subsets of $[0,1]$ such that

  + $P(\Omega)=1$ 
  + $P( \cup_{n=1}^{ \infty}A_n)= \sum_{n=1}^{\infty} P(A_n)$ for any sequence of subsets $\{A_n\}_{n\ge 1}$ with $A_n \cap A_m = \emptyset$ for $n \neq m$ 

+ One can prove that no such $P$ exists! 怎么证明其不存在性？
+ The collection of sets $2^{[0,1]}$ is simply **too big** for this to work.

Borel realized that we can however do this on a smaller collection of sets, namely the smallest $\sigma$-algebra containing intervals of the form $(a,b]$.

<br />
<br />

-------------------------

**Borel set** :


+ the sigma-algebra generated by the open sets $\qquad$所有开集生成的 sigma 代数

+ the sigma-algebra generated by the open intervals  $\quad$所有开区间生成的 sigma 代数

+ the sigma-algebra generated by the $(- \infty , a], a \in \mathbb{Q}$ $\quad$所有 $(- \infty,a]$ 生成的 sigma 代数

  这三个定义构造的 Borel set 越来越小，事件类越小，构建概率 $P$ 越简单

  

-------------------------

由定理2.1：在$\mathbb{R}$上的博雷尔集是由$(-\infty,a]$这种形式的区间所生成的sigma代数

> Proof. 
>
> Let $\mathcal{C}$ denote all open intervals. Since every open set in $\mathcal{R}$ is the countable union of open intervals, we have $\sigma(\mathcal{C})=$ the Borel $\sigma-algebra$ of $\mathbb{R}$ 
>
> Let $\mathcal{D}$ denote all intervals of the form $(- \infty,a]$, where $a \in \mathbb{Q}$.
>
> Let $(a,b) \in \mathcal{C}$ 
>
> Let $(a_n)_{n \ge 1}$ be a sequence of rationals decreasing to a
>
> Let $(b_n)_{n \ge_1}$ be a sequence of rationals increasing strictly to b.
>
> Then 
>
> $$
> \begin{aligned}
> 	(a,b) &= \cup_{n=1}^{ \infty} (a_n, b_n] \\
> 	      &= \cup_{n=1}^{ \infty} \left( (- \infty,b_n] \cap (- \infty,a_n]^c \right) \\
> \end{aligned}
> $$
>
> Therefore , $\mathcal{C} \subset \sigma(\mathcal{D})$, where $\sigma(\mathcal{C}) \subset \sigma(\mathcal{D})$ 
>
> However, since each element of $\mathcal{D}$ is a closed set, it is also a Borel set, and therefore $\mathcal{D}$ is contained in the Borel sets $\mathcal{B}$, Thus we have
> $$
> \mathcal{B} = \sigma(\mathcal{C}) \subset \sigma(\mathcal{D}) \subset \mathcal{B}
> $$
>
> and hence $\sigma(\mathcal{D}) = \mathcal{B}$
>
> --------------------------
>
> 这个定理给出了更容易验证 $Borel \sigma-algebra$ 的一种方法，给出了验证博雷尔集的一个充要条件

> > 这个定理的证明核心在于 $(a,b) =\cup_{n=1}^{ \infty} \left( (- \infty,b_n] \cap (- \infty,a_n]^c \right) \\$ 
> >
> > 需要证明左边的开区间$(a,b)$所构成的 sigma 代数$\mathcal{B}$和右边的 $(-\infty,a]$这种形式构成的sigma代数$\sigma(\mathcal{D})$是相等的，则需要证明两个包含关系



<div style="page-break-after: always;"></div>

<br />
<br />


**Theorem 6.1** 概率延拓定理（唯一延拓）

Each probability $P$ defined on the algebra $\mathcal{A}_0$ has a **unique** extension (also call $P$) on $\mathcal{A}$.

> 每一个定义在代数 $\mathcal{A_0}$ 上的概率，在  $\mathcal{A}$ 上都有唯一的拓展
>
> We will show only the uniqueness. For the existence one can consult any standard text on measure theory.

<br />

**Definition 6.1**

+ A class $\mathcal{C}$ of subsets of $\Omega$ is **closed under finite intersections**  $\qquad \mathcal{C}$ 

  **对有限并封闭** （代数满足对有限并封闭）

  - If for when $A_1,A_2,...,A_n \in \mathcal{C}$ , 
    then $A_1 \cap A_2 \cap \cdots \cap A_n \in \mathcal{C}$ as well

     (n arbitrary but finite)

+ A class $\mathcal{C}$ is **closed under increasing limits** $\qquad \mathcal{C}$ 

  **对单増并封闭** （ $\sigma$-代数满足，且 $\sigma$-代数更小）

  - If wherever $A_1 \subset A_2 \subset \cdots  \subset A_n \subset \cdots$ is a sequence of events in $\mathcal{C}$, then $\cup_{n=1}^{ \infty} A_n \in \mathcal{C}$ as well.

+ A class $\mathcal{C}$ is **closed under differences** $\qquad \mathcal{C}$ 

  **对差封闭** （代数满足对差封闭，但满足对差封闭的不一定是代数）

  - If whenever $A,B \in \mathcal{C}$ with $A \subset B$, then $B-A \in \mathcal{C}$.


<div style="page-break-after: always;"></div>

<br />
<br />

$\star\star\star\star\star$**Monotone Class Theorem** 单调类定理

Let $\mathcal{C}$ be a class of subsets of $\Omega$, closed under finite intersections and containing $\Omega$.

> $\mathcal{C}$ 满足两个条件：包含 $\Omega$、对有限交封闭

Let $\mathcal{B}$ be the smallest class containing  $\mathcal{C}$ which is closed under increasing limits and by difference.

> $\mathcal{B}$ 满足两个条件：包含$\mathcal{C}$ 的最小类、对单増并、差封闭

Then $\mathcal{B} = \sigma(C)$

<br />
<br />


-----------------------


> Proof.
>
> Note that 
>
> + The intersection of classed of sets closed under increasing limits and differences is again a class of that type.
>
> >> 一列事件，对单増并封闭，则把之交起来也对单増并封闭
> >>
> >> > Proof.
> >> >
> >> > 题设：
> >> >
> >> > + 有若干个事件类 $\mathcal{A}_{\alpha},\alpha \in \mathcal{I}$ 
> >> > + 对每个 $\alpha \in \mathcal{I},\quad \mathcal{A}_{\alpha}$ 对单増并封闭
> >> >
> >> > 推导：
> >> >
> >> > 若 $A_1 \subset A_2 \subset \cdots$ 且 $A_i \in \cap_{\alpha \in I} \mathcal{A}_{\alpha}$ 
> >> >
> >> > 对任意固定的 $\alpha \in \mathcal{I},\quad A_i \in \mathcal{A}_{\alpha}, \quad ,i=1,2,...$
> >> >
> >> > 则 $\bigcup_{i=1}^{ \infty}A_i \in \mathcal{A}_{\alpha}$ ，于是 $\bigcup_{i=1}^{ \infty} A_i \in \bigcap_{\alpha \in I} \mathcal{A}_{\alpha}$ （每个都属于 $\mathcal{A}_{\alpha}$ ，则属于 $\mathcal{A}_{\alpha}$ 的交） 
> >>
> >> 一列事件，对差封闭，则把之交起来也对差封闭
> >>
> >> > 自己证明一下

<div class="solid">



</div>

> So, by taking the intersection of all such classed, 
>
> + there always exists a **smallest** class containing  $\mathcal{C}$ which is closed under increasing limits and by differences.
>
>   总存在一个最小的类，满足：包含  $\mathcal{C}$ ，且对单増并封闭、差封闭
>
>   所有满足（对单増并封闭、差封闭、包含  $\mathcal{C}$ ）的都交起来，最小
>
> For each set $B$, denote $\mathcal{B}_{B}$ to be the collection of sets $A$ such that $A \in \mathcal{B}$ and $A \cap B$, $i.e.$ 
>
> $$
> \mathcal{B}_{B} = \left\{ A: A \in \mathcal{B}, A \cap B \in \mathcal{B} \right\}
> $$
>
> 看上去 $\mathcal{B}_{B}$ 跟 $B$ 的选择有关，但实际上无关
>
> Given the properties of $\mathcal{B}$, one easily checks that $\mathcal{B}_{B}$ is closed under increasing limits and by differences.

<div class="solid">


证明对单调并封闭，即证明： 若$A_1 \subset A_2 \subset ...$ 且 $A_i \in \mathcal{B}_{B}$ ，证明  $\cup_{i=1}^{ \infty} A_i \in \mathcal{B}_{B}$ 

则证明其满足两条：

+ $\cup_{i=1}^{ \infty} A_i \in \mathcal{B}$
+ $(\cup_{i=1}^{ \infty}A_i) B \in \mathcal{B}$

证明第一条：$\cup_{i=1}^{ \infty} A_i \in \mathcal{B}$

>> $\because \quad \mathcal{B}$ 对单増并封闭（由定义）
>>
>> $\therefore \quad \cup_{i=1}^{ \infty}A_i \in \mathcal{B}$


证明第二条：$(\cup_{i=1}^{ \infty}A_i) B \in \mathcal{B}$

> > $(\cup_{i=1}^{ \infty}A_i) B = \cup_{i=1}^{\infty} (A_i B)$ 且 $A_1 B \subset A_2 B \subset  ...$ 
> >
> > 则 $\cup_{i=1}^{ \infty}(A_i B) \subset \mathcal{B}$ （定义）
> >
> > 则说明 $\cup_{i=1}^{ \infty} A_i \in \mathcal{B}_{B}$ ，即 $\mathcal{B}_{B}$ 对单増并封闭

仿照这个证明，对差封闭的自己证明一下

</div>

> Let $B \in \mathcal{C}$;  给定  $B \in \mathcal{C}$;
>
> For each $C \in \mathcal{C}$ one has $B \cap C \subset \mathcal{C} \subset \mathcal{B}$ and $C \in \mathcal{B}$, thus $C \in \mathcal{B}_{B}$ 
>
> Hence $\mathcal{C} \subset \mathcal{B}_{B} \subset \mathcal{B}$. 后一个是定义
>
> $\because \mathcal{B}_{B}$ 是包含了  $\mathcal{C}$ 的对有限并、差封闭的
>
> $\therefore \mathcal{B}=\mathcal{B}_{B}$  (by the properties of $\mathcal{B}$ and of $\mathcal{B}_{B}$ )
>
> > 说明在$B \in \mathcal{C}$时是可以证明$\mathcal{B}=\mathcal{B}_{B}$的
> >
> > 下面将其拓展到 $\mathcal{B}$ 上
> > <br />
> > <br />
>
> Now let $B \in \mathcal{B}$.
>
> For each $C \in \mathcal{C} \subset \mathcal{B}$
>
> 由上一条可知，在$B \in \mathcal{C}$时是可以证明$\mathcal{B}=\mathcal{B}_{B}$的，则在$C \in \mathcal{C}$时是可以证明$\mathcal{B}=\mathcal{B}_{C}$的，则 $B \in \mathcal{B}=\mathcal{B}_{C}$
>
> we have $B \in \mathcal{B}_{C}$, and because of the preceding, $B \cap C \in \mathcal{B}$, hence $C \in \mathcal{B}_{B}$, whence $\mathcal{C} \subset \mathcal{B}_{B} \subset \mathcal{B}$, hence $\mathcal{B}=\mathcal{B}_{B}$

<div class="solid">



$$
\begin{array}{lll}
	\begin{array}{lll}
		B \in \mathcal{B}_{C} \\
		\Downarrow \text{定义}\\
		1. B \in \mathcal{B} \\
		2. BC \in \mathcal{B} \\
	\end{array}
&
\Rightarrow
&
        \begin{array}{lll}
        	C \in \mathcal{B} \\
		CB \in \mathcal{B} \\
		\Downarrow \text{定义}\\
		C \in \mathcal{B}_{B}
        \end{array}
\\
\\
& \Downarrow & \\

\mathcal{C} \subset \mathcal{B}_{B} \subset \mathcal{B} \\
\mathcal{B} = \mathcal{B}_{B}
\end{array}
$$
即$\mathcal{B}_{B}$ 跟 $B$ 无关，但是$B$ 必须在 $\mathcal{B}$ 里面
</div>

> Since $\mathcal{B}=\mathcal{B}_{B}$ for all $B \in \mathcal{B}$, we conclude $\mathcal{B}$ is **closed by finite intersections**.

<div class="solid">




$\because \mathcal{B}_{B}$ 对有限并封闭

$\forall A,B \in \mathcal{B}$ 

$\because B \in \mathcal{B} \qquad A \in \mathcal{B}=\mathcal{B}_{B}$

$\Rightarrow AB \in \mathcal{B}$

即 $\mathcal{B}$ 对有限并封闭

可以由定义推导

</div>

> Furthermore $\Omega \in \mathcal{B}$, and  $\mathcal{B}$ is closed by difference, hence also under **complementation**.
>
> Since $\mathcal{B}$ is **closed by increasing limits** as well, we conclude $\mathcal{B}$ is a $\sigma$-algebra, and it is clearly the smallest such containing $\mathcal{C}$.

<div class="solid">


证明：$\mathcal{B}$ 是 $\sigma$-代数 

缺一个可列并封闭：

证明：

若 $A_i \in \mathcal{B}$ 

令 $B_n = \cup_{i=1}^{n}A_i$，则 $\cup_{i=1}^{n}A_i = \cup_{i=1}^{n}B_i$ ，且 $B_1 \subset B_2 \subset ...$

$B_n^c = \cap_{i=1}^{n}A_i^c \in \mathcal{B}$ 

- $A_i \in \mathcal{B}$
- $A_i^c \in \mathcal{B}$ 
- $A_i^c$ 有限并 $\in \mathcal{B}$ 

$\Rightarrow \quad B_n \in \mathcal{B}$

则 $\mathcal{B}$ 对可列并封闭

</div>

<div class="solid">


$\mathcal{B}$ 是 $\sigma$-代数，$\mathcal{B} \supset \mathcal{C} \qquad \Rightarrow \quad \mathcal{B} \supset \sigma(\mathcal{C})$

由 $\sigma(\mathcal{C}) \supset \mathcal{C}$ 且 $\sigma(\mathcal{C})$ 对单増并、差封闭

由 $\mathcal{B}$ 的最小性，可得 $\sigma(\mathcal{C}) \supset \mathcal{B}$ 

则 $\mathcal{B}=\sigma(\mathcal{C})$

</div>


The proof of the uniqueness in Theorem 6.1 is an immediate consequence of the following Corollary 6.1, itself a consequence of the Monotone Class Theorem


<br />
<br />
<br />

**Corollary 6.1** 推论：概率延拓定理

Let $P$ and $Q$ be two probabilities defined on $\mathcal{A}$

Suppose $P$ and $Q$ agree on a class $\mathcal{C} \subset \mathcal{A}$ which is closed under finite intersections.

If $\sigma(\mathcal{C}) = \mathcal{A}$, we have $P=Q$

这个定理说明：两个定义在对交封闭的  $\mathcal{C}$ 上相等的概率测度 $P,Q$ ， 可以将其延拓到 $\sigma(\mathcal{C})$ 上


> Proof. We can assume $w.l.o.g.$ that $\Omega \in \mathcal{C}$ , since
>
> - $\Omega \in \mathcal{A}$, because $\mathcal{A}$ is a $\sigma$-algebra
> - $P( \Omega ) = Q( \Omega ) =1$, because they are both probabilities.
>
> Let
>
> $$
> \mathcal{B} = \left\{ A \in \mathcal{A}:P(A)=Q(A) \right\}
> $$
> By the definition of a Probability measure and Theorem 2.3,  $\mathcal{B}$ is closed by difference and by increasing limits.
>
> Also $\mathcal{B}$ contains $\mathcal{C}$ by hypothesis.
>
> Therefore since $\sigma(\mathcal{C})=\mathcal{A}$, we have $\mathcal{B}=\mathcal{A}$ by the Monotone Class Theorem.

<br />

不妨设 $\Omega \in \mathcal{C}$ （ 若不在里面，定义 $\mathcal{C}'=\mathcal{C} \cup \left\{ \Omega \right\}$ ）

> $\mathcal{B}= \left\{ A \in \mathcal{A}:P(A)=Q(A) \right\}$
>
> 证明： $\mathcal{B}=\mathcal{A}$ ，则在 $\mathcal{A}$ 上 $P(A)=Q(A)$
>
> $\because$ $\mathcal{C}$ 上 $P(A)=Q(A)$  $\quad \therefore \mathcal{C} \subset \mathcal{B}$
>
> 若 $A_1 \subset A_2 \subset ...\qquad A_i \in \mathcal{B}$
>
> 则 $\cup_{i=1}^{ \infty}A_i$ 
>
> $$
> P \left( \cup_{i=1}^{ \infty} A_i \right) = \lim_{n \to \infty} P(A_n) = \lim_{n \to \infty} Q(A_n) = Q \left( \cup_{i=1}^{ \infty} A_i \right)
> $$
>
> $\therefore \cup_{i=1}^{ \infty} A_i \in \mathcal{B}$
>
> 对差也一样
>
> 又 $\mathcal{B} \supset \mathcal{C}$ 且 $\mathcal{B}$ 对单増并、差封闭
>
> $\therefore \quad \sigma(\mathcal{C})=\mathcal{A} \subset \mathcal{B} \subset \mathcal{A}$
>
> $\therefore \quad \mathcal{A} = \mathcal{B}$





**Definition 6.2**

Let $P$ be a probability on $\mathcal{A}$.

A **null set** (or **negligible set**) for $P$ is a subset $A$ of $\Omega$ such that there exists a $B \in \mathcal{A}$ satisfying $A \subset  B$ and $P(B)=0$

> 可忽略的集合
>
> $\mathcal{A}$ 是一个概率测度
>
> > 因为 概率一定满足规范性和可列可加性
>
> $A$ 不一定在 $\mathcal{A}$ 上

**Remark**

+ We say that a property holds almost surely ($a.s.$ in short) if it holds outside a negligible set.

+ This notion clearly depends on the probability, so we say sometimes <u>P-almost surely</u> , or <u> P-a.s. </u>

  几乎处处收敛

  $$
  \begin{aligned}
  	\xi_n \to_{a.s.} \xi & \Leftrightarrow \exists A \subset B \\
   & \qquad s.t. \ B \subset \mathcal{A}  \text{ and } P(B)=0 \\
   & \qquad lim_{n \to \infty} \xi_n(\omega) = \xi
  \end{aligned}
  $$

  $r$ 收敛

  $$
  	\xi_n \to_{r} \xi  \Leftrightarrow E |\xi_n - \xi|^{r} \to 0 \quad n \to \infty
  $$

**Remark**

+ The negligible set are not necessarily in $\mathcal{A}$ 
+ Nevertheless it is natural to say that they have probability zero.
+ In the following theorem, we extend the probability to the $\sigma$-algebra which is generated by $\mathcal{A}$ and all $P$-negligible sets.

目标：将概率 $P$ 延拓到 $\mathcal{A} \cup \left\{ \text{all} P \text{-negligible} \right\}$


**Theorem 6.4** 

Let $P$ be a probability on $\mathcal{A}$ and let $\mathcal{N}$ be the class of all $P$-negligible sets.

Then

$$
\mathcal{A}' = \left\{ A \cup N : A \in \mathcal{A}, N \in \mathcal{N} \right\}
$$

is a $\sigma$-algebra, called the $P$-completion of $\mathcal{A}$ 

+ $\mathcal{A}'$ is the smallest $\sigma$-algebra containing $\mathcal{A}$ and $\mathcal{N}$ 

+ $P$ extends uniquely as a probability (still denoted by $P$) on $\mathcal{A}'$, 

  by setting $P(A \cup N)=P(A)$ for $A \in \mathcal{A}$ and $N \in \mathcal{N}$ 

Proof.

由 Corollary 6.1 可知，存在 $\mathcal{A} \cup\mathcal{N}$ 

$\forall A \in \mathcal{A} \cup \mathcal{N} \text{  即  } A \in \mathcal{A} \ or \ A \in \mathcal{N}$

下面证明 $\mathcal{A} \cup \mathcal{N}$ 对有限交封闭

> 1. 若 $A \in \mathcal{A}, B \in \mathcal{A} \qquad \Rightarrow AB \in \mathcal{A} \subset \mathcal{A} \cup \mathcal{N}$
> 2. 若 $A \in \mathcal{A}, B \in \mathcal{N} \qquad AB \in \mathcal{N} \subset \mathcal{A} \cup \mathcal{N}$
>
> $$
> \begin{aligned}
>    	\because & B \in \mathcal{N} \to \exists C \in \mathcal{A} \quad s.t. \quad B \subset C \ and \ P(C)=0 \\
> 	\therefore & AB \subset B \subset C \\
> 	\Rightarrow & AB \in \mathcal{N} \\
> \end{aligned}
> $$
>
> 3. 若 $A \in \mathcal{N}, B \in \mathcal{N} \qquad \Rightarrow AB \in \mathcal{N} \subset \mathcal{A} \cup\mathcal{N}$ 
>
> 由 123 说明 $\mathcal{A} \cup \mathcal{N}$ 对有限交封闭


证明 $\mathcal{A} \cup \mathcal{N} \subset \mathcal{A}'$ 

> $\forall A \in \mathcal{A} \cup \mathcal{N}$ ， 即 $A \in \mathcal{A} \ or \ A \in \mathcal{N}$
>
> $$
> \left. 
> \begin{array}{lll}
> 	\because \emptyset \in \mathcal{A} \ and \ \emptyset \in \mathcal{N} \\
> 	\forall B \in \mathcal{A} , \quad B = B \cup \emptyset \in \mathcal{A} \Rightarrow \mathcal{A} \subset \mathcal{A}' \\
> 	\forall N \in \mathcal{N},\quad N = N \cup \emptyset \in \mathcal{A}' \Rightarrow \mathcal{N} \subset \mathcal{A}'
> \end{array}
> \right\}
> 
> \Rightarrow
> \mathcal{A} \cup \mathcal{N}
> \subset 
> \mathcal{A}'
> $$

证明$\mathcal{A}'=\sigma(\mathcal{A} \cup \mathcal{N})$

> Denote $\sigma(\mathcal{A} \cup \mathcal{N})= \mathcal{A}''$
>
> $$
> \begin{array}{c}
> \hline
> \begin{array}{lll}
> 	\begin{array}{lll}
> 		1. \\
> 		\mathcal{A} \subset \mathcal{A}' \ and \ \mathcal{N} \subset \mathcal{A}' \text{已证}\\
> 		\Updownarrow \\
> 		\mathcal{A} \cup \mathcal{N} \subset \mathcal{A}' \\
> 		\Rightarrow \mathcal{A}'' \subset \mathcal{A}'
> 	\end{array}
> 	&&
> 
> 	\begin{array}{lll}
> 		2. \\
> 		\forall B \in \mathcal{A}' \quad B = A \cup N , A \in \mathcal{A}, N \in \mathcal{N} \\
> 		\because \mathcal{A}'' \text{ is $\sigma$-algebra} \\
> 		\text{ and }  A \in \mathcal{A} \subset \mathcal{A}'', N \in \mathcal{A} \subset \mathcal{A}'' \\
> 		B = A \cup N \in \mathcal{A}'' \Rightarrow \mathcal{A}' \subset \mathcal{A}''
> 	\end{array}
> 	\\
> 	&  & \\
> \end{array}
> 
> \\
> \hline
> \Downarrow \\
> 
> \mathcal{A}' = \mathcal{A}'' = \sigma(\mathcal{A} \cup\mathcal{N})
> \end{array}
> $$

证明 $\mathcal{A}'$ 是一个 $\sigma$-algebra

> 1. $\Omega \in \mathcal{A}' \qquad \Omega=\Omega \cup \emptyset,\quad \Omega \in \mathcal{A}, \emptyset \in \mathcal{N}$ 
>
> 2. 若 $B \in \mathcal{A}'$ ，则 $\exists A \in \mathcal{A}, N \in \mathcal{N}$ 
>
> $$
> \begin{aligned}
> 	s.t. \\
> 	B &= A \cup N \\
> 	B^C &= A^C \cap N^C = (A^C \cap C^C) \cup (A^C \cap N^C \cap C) \\
> 	    & (A^C \cap C^C) \in \mathcal{A} \\
> 	    & (A^C \cap N^C \cap C) \subset C \in \mathcal{N} \\
> 
> 	\Downarrow \\
> 	B^C & \in \mathcal{A}' \\
> \end{aligned}
> $$
>
> 3. 可列可加
>
>    $B_n \in \mathcal{A}',n=1,2,...$ 
>
>    $N_n \subset C_n \in \mathcal{A},P(C_n)=0$ 
>
>    $P( \cup_{n=1}^{ \infty} C_n) \le \sum_{n=1}^{\infty} P(C_n) =0$
>
> $$
> \begin{aligned}
> 	B_n &= A_n \cup N_n \qquad A_n \in \mathcal{A}, N_n \in \mathcal{N} \\
> 	\cup_{n=1}^{ \infty} B_n &= \left( \cup_{n=1}^{ \infty}A_n \right) \cup \left( \cup_{n=1}^{ \infty} N_n \right) \in \mathcal{A}' \\
> 	  & \cup_{n=1}^{ \infty} A_n \in \mathcal{A} \\
> 	  & \cup_{n=1}^{ \infty} N_n \in \mathcal{N} \\
> \end{aligned}
> $$
>
> 则 $\mathcal{A}'$ 是一个 $\sigma$-algebra ， $\mathcal{A}'=\sigma(\mathcal{A} \cup \mathcal{N})$ 
>
> 由 corollary 6.1 知, The uniqueness of the extension is straightforward.

现在想知道，若 $\mathcal{A}$ 上有不一样的分解，其概率是否会于分解有关？

> Suppose now that $A_1 \cup N_1 = A_2 \cup N_2$ with $A_i \in \mathcal{A}$ and $N_i \in \mathcal{N}$
>
> The symmetrical difference $A_1 \triangle A_2 = (A_1 \cap A_2^c ) \cup (A_1^c \cap A_2 )$ is contained in $N_1 \cup N_2$ 
>
> Proof.
>
> $$
> \begin{aligned}
> 	A_1A_2^c & \subset  (A_1 \cup N_1)A_2^c = (A_2 \cup N_2 ) A_2^c = A_2 A_2^c \cup N_2A_2^c = N_2 A_2^c \subset N_2 \\
> 	A_1^c A_2 & \subset  A_1^c (A_2 \cup N_2) = A_1^c (A_1 \cup N_1 )  = A_1^c A_1 \cup A_1^c N_1 = A_1^c N_1  \subset N_1 \\
> 	\\
> 	\therefore &\ A_1 A_2^c \cup A_1^c A_2 \quad \subset  \quad N_1 \cup N_2
> \end{aligned}
> $$
>
> $\exists C_i \in \mathcal{A} \quad P(C_i)=0 ,\quad  N_i \subset C_i, \quad i=1,2,... \quad A_i \in \mathcal{A}$ 
>
> $A_1 \triangle A_2 \subset N_1 \cup N_2 \subset C_1 \cup C_2 \quad \Rightarrow \quad A_1 \triangle A_2 \in \mathcal{N}, \quad P(C_1 \cup C_2 ) \le P(C_1)+P(C_2)=0$
>
> $$
> \begin{aligned}
> 	P(A_1) &= P(A_1A_2 +A_1A_2^c) \\
> 	      &= P(A_1A_2)+P(A_1A_2^c) \\
> 	      &= P(A_1A_2) \\
> 	      & A_1A_2^c \subset A_1 \triangle A_2 \subset N_1 \cup N_2 \subset C_1 \cup C_2 \quad\Rightarrow P(A_1A_2^c) \le P(C_1 \cup C_2)=0 \\
> 	P(A_1) &= P(A_1A_2) \\
> 	P(A_2)&=P(A_1A_2) \\
> 	\\
> 	&\Rightarrow P(A_1)=P(A_2) \\
> 	&\Rightarrow Q(A_1 \cup N_1) = Q(A_2 \cup N_2)
> 
> \end{aligned}
> $$
>
> 则不管怎么分解，延拓的概率都相等

现在证明 $Q$ 是概率，概率需要验证两条：

> 1. $Q(\Omega) = Q (\Omega \cup \emptyset) = P(\Omega)=1$ 
> 2. 假设 $B_n \in \mathcal{A}'$ 且 $B_n$ 两两互斥 $n=1,2,...$ 
>
> $$
> \begin{aligned}
> 	Q( \cup_{i=1}^{ \infty} B_n) &= Q \left\{ \cup_{i=1}^{ \infty} (A_n \cup N_n \right\} \\
> 	    &= Q \left\{ \cup_{i=1}^{ \infty} A_n \cup \cup_{i=1}^{ \infty} N_n \right\} \\
> 	    &= P \left\{ \cup_{i=1}^{ \infty} A_n \right\} \\
> 	    & \qquad \text{ $A_n$ 是$B_n$ 的一部分，则 $B_n$ 两两互斥得到 $A_n$ 两两互斥}\\
> 	    &= \sum_{n=1}^{\infty} P \left\{ A_n \right\} \\
> 	    \\
> 	Q(B_n) &= Q(A_n \cup N_n) = P(A_n)  \\
>         \therefore & \ Q( \cup_{i=1}^{ \infty} B_n ) = \sum_{n=1}^{\infty} Q(B_n) \\
> \end{aligned}
> $$
>
> 则 $Q$ 是 $\mathcal{A}'$ 上的概率测度，仍然记 $Q$ 为 $P$ 
>
> 定理6.4证明完毕

<div style="page-break-after: always;"></div>

<br />
<br />


回顾一下定理6.1以及其证明过程：

定理6.1： 概率 $P$ 是 $\mathcal{A}$ 上的概率， $\mathcal{N}$ 是所有的可忽略集合类

定义 $\mathcal{A}'= \left\{ A \cup N: A \in \mathcal{A}, N \in \mathcal{N} \right\}$ 

则可以得到：

+ $\mathcal{A}'$ 是一个 $\sigma$-代数
+ $\mathcal{A}'=\sigma(\mathcal{A} \cup \mathcal{N})$ 
+ 概率 $P$ （原来定义在 $\mathcal{A}$ 上）可在 $\mathcal{A}'$ 上唯一延拓

<br />

定理6.1把概率又往前延拓，现在是可以延拓到一个 $\sigma$-代数和一个可忽略集的并集构成的 $\sigma$-代数上了。

<br />
<br />

定理的证明需要证明几步：

1. $\mathcal{A}'$ 是一个 $\sigma$-代数 $\left\{  \begin{array}{lll} \emptyset \ \Omega \text{在里面} \\ A \text{在} \mathcal{A}' \text{里面，则 } A^c \text{也在} \mathcal{A}' \text{里面} \\ 对可列并封闭 \end{array}\right.$

2. 证明 $\mathcal{A}'=\sigma(\mathcal{A } \cup \mathcal{N})$ ，由两个包含关系可以证明

   其中， 证明 $\mathcal{A} \in  \mathcal{N} \subset  \mathcal{A}'$ 就是为了证明这一步

3. 证明概率  $P$ 延拓到 $\mathcal{A}'$ 上之后（记为 $Q$ )仍然是一个概率（由概率的定义来证明）

4. 证明唯一性，延拓之后的概率是唯一的，则仍然可以记为 $P$.

   唯一性的证明由性质6.1可以得到，需要证明

   - $\mathcal{A} \cup  \mathcal{N}$ 对有限交封闭

   - $\mathcal{A}'=\sigma(\mathcal{A} \cup \mathcal{N})$ 

   - 概率与分解无关

     性质6.1： 概率 $P$ 和 概率 $Q$ 是定义在$\mathcal{A}$ 上的两个概率，若 $P,Q$ 在 $\mathcal{C} \subset  \mathcal{A}$ 上相等，并且对有限交封闭，如果 $\sigma(\mathcal{C})=\mathcal{A}$ ，则 $P=Q$

